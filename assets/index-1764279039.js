import{r as w,d as Q,c as O,o as X,n as j,a as ee,b as L,e as C,f as s,w as M,g as T,h as b,u as f,t as x,F as z,i as D,j as te,v as B,p as ae,k as se,l as oe}from"./vendor-1764279039.js";function We(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const u=w(!1),ne=()=>{const e=window.GamesTheme;if(e&&typeof e.getCurrentTheme=="function")try{const a=e.getCurrentTheme();u.value=!a,e.updatePageTheme&&e.updatePageTheme(a)}catch(a){u.value=!1,e&&e.updatePageTheme&&e.updatePageTheme(!0)}else u.value=!1},H=e=>{try{if(!e||!e.detail||typeof e.detail.isLightTheme!="boolean")return;const r=!e.detail.isLightTheme;u.value!==r&&(u.value=r)}catch(a){}},le=()=>{window.addEventListener("appThemeChange",H)},ie=()=>{window.removeEventListener("appThemeChange",H)},E=async e=>{if(!e.complete||!e.naturalWidth)return null;try{return await K(e)}catch(a){a.name}try{return await re(e.src)}catch(a){}return"FALLBACK"},K=e=>new Promise((a,r)=>{try{const n=document.createElement("canvas"),o=n.getContext("2d");if(!o){r(new Error("无法获取Canvas上下文"));return}const l=e.naturalWidth,i=e.naturalHeight;n.width=l,n.height=i,o.drawImage(e,0,0);const d=Math.floor(i*.4),h=i-d,k=o.getImageData(0,h,l,d),v=ce(k.data),_=me(v,70,45);a(_)}catch(n){r(n)}}),re=e=>new Promise((a,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=async()=>{try{const o=await K(n);a(o)}catch(o){r(o)}},n.onerror=()=>{r(new Error("crossOrigin图片加载失败"))},n.src=e}),ce=e=>{const a=new Map,r=8;for(let l=0;l<e.length;l+=4*r){const i=e[l],d=e[l+1],h=e[l+2];if(e[l+3]<128)continue;const v=de(i,d,h);if(v.s<20)continue;const I=Math.round(v.h).toString();a.set(I,(a.get(I)||0)+1)}let n=240,o=0;for(const[l,i]of a.entries())i>o&&(o=i,n=parseInt(l));return n},de=(e,a,r)=>{e/=255,a/=255,r/=255;const n=Math.max(e,a,r),o=Math.min(e,a,r),l=n-o;let i=0;l!==0&&(n===e?i=(a-r)/l*60:n===a?i=((r-e)/l+2)*60:i=((e-a)/l+4)*60),i<0&&(i+=360);const d=n===0?0:l/n*100,h=n*100;return{h:i,s:d,b:h}},me=(e,a,r)=>{a=a/100,r=r/100;const n=r*a,o=n*(1-Math.abs(e/60%2-1)),l=r-n;let i=0,d=0,h=0;e>=0&&e<60?(i=n,d=o,h=0):e>=60&&e<120?(i=o,d=n,h=0):e>=120&&e<180?(i=0,d=n,h=o):e>=180&&e<240?(i=0,d=o,h=n):e>=240&&e<300?(i=o,d=0,h=n):e>=300&&e<360&&(i=n,d=0,h=o);const k=Math.round((i+l)*255),v=Math.round((d+l)*255),_=Math.round((h+l)*255);return"#".concat(k.toString(16).padStart(2,"0")).concat(v.toString(16).padStart(2,"0")).concat(_.toString(16).padStart(2,"0"))},S=e=>(ae("data-v-42675094"),e=e(),se(),e),ue=S(()=>s("div",{class:"gradient-overlay"},null,-1)),he=[ue],pe={class:"game-info-section"},ge={class:"game-header"},ve={key:0,class:"stat-score"},fe={class:"star-icon"},we={width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye=["fill"],be=te('<div class="play-button-content" data-v-42675094><div class="play-icon" data-v-42675094><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-42675094><path fill-rule="evenodd" clip-rule="evenodd" d="M15.2403 8.55061H10.9604L12.184 2.60792C12.2755 2.16358 11.7108 1.89358 11.4224 2.24377L4.42619 10.7384C4.19254 11.0221 4.39434 11.4498 4.76187 11.4498H9.04173L7.81816 17.3924C7.72667 17.8367 8.29136 18.1067 8.57978 17.7566L15.5759 9.26195C15.8096 8.97825 15.6078 8.55061 15.2403 8.55061Z" fill="white" data-v-42675094></path></svg></div><span class="play-text" data-v-42675094>Play Now</span></div>',1),_e=[be],Le=S(()=>s("div",{class:"middle-banner-content"},null,-1)),Ce={class:"middle-banner-controls"},Ie={width:"9.75",height:"9.75",viewBox:"0 0 9.75 9.75",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ke=["stroke"],xe=S(()=>s("div",{class:"section-title"},"You may also like",-1)),Se={class:"game-grid-container"},Me=["data-game-id","data-game-title","data-position","onClick"],Te=["data-src","alt"],Be={class:"game-card-stats"},Ge=S(()=>s("div",{class:"group-icon"},[s("svg",{width:"9.75",height:"9.75",viewBox:"0 0 9.75 9.75",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M7.17236 5.66113C8.05382 5.66117 8.87988 6.14598 9.13818 6.91699L9.54541 8.13379C9.57507 8.22267 9.56011 8.3214 9.50537 8.39746C9.45054 8.47328 9.36264 8.51855 9.26904 8.51855H2.44678C2.35318 8.51855 2.26529 8.47328 2.21045 8.39746C2.15571 8.32139 2.14075 8.22268 2.17041 8.13379L2.57764 6.91699C2.83594 6.14598 3.662 5.66117 4.54346 5.66113H7.17236ZM2.86377 5.66113C2.5025 5.92998 2.21594 6.29439 2.06494 6.74512L1.65674 7.96191C1.64557 7.99531 1.63621 8.02939 1.62939 8.06348H0.768066C0.674432 8.06344 0.586544 8.01828 0.531738 7.94238C0.47703 7.86636 0.462107 7.76853 0.491699 7.67969L0.817871 6.70605C1.03436 6.05986 1.72205 5.66117 2.4458 5.66113H2.86377ZM3.27002 2.02246C3.49125 2.02254 3.70025 2.07419 3.88721 2.16406C3.74332 2.4564 3.66067 2.78491 3.66064 3.13281C3.66075 3.67377 3.85676 4.16851 4.18115 4.55078C3.93382 4.75591 3.61633 4.87976 3.27002 4.87988C2.48117 4.87983 1.84157 4.23997 1.84131 3.45117C1.84148 2.6623 2.48112 2.02252 3.27002 2.02246ZM5.85791 1.47656C6.77249 1.47657 7.51405 2.21826 7.51416 3.13281C7.51396 4.04729 6.77243 4.78905 5.85791 4.78906C4.94342 4.78901 4.20186 4.04726 4.20166 3.13281C4.20177 2.21828 4.94337 1.47661 5.85791 1.47656Z",fill:"white","fill-opacity":"0.9"})])],-1)),Ae={class:"stats-text"},ze={class:"game-card-content"},$e={class:"game-card-title"},Oe={class:"game-iframe-container"},De=["src"],Ee={class:"floating-ad-container"},He=["fill"],Ke=S(()=>s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0195 9.16596L12.5927 6.59272L13.5355 7.53553L10.9623 10.1088L13.555 12.7015L12.6193 13.6372L10.0266 11.0445L7.45335 13.6177L6.51054 12.6749L9.08377 10.1017L6.49105 7.50895L7.42677 6.57323L10.0195 9.16596Z",fill:"white"},null,-1)),Pe={id:"bottom-banner",class:"bottom-banner"},Fe=S(()=>s("div",{class:"bottom-banner-content"},null,-1)),Ue={class:"bottom-banner-controls"},Ne={width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ze=["stroke"],qe=Q({__name:"App",setup(e){const a=w({mainGame:{appId:"soccerdash",title:"Soccer Dash",icon:"./game-icon.png",background:"./game-background.png",url:"https://hosting.mirrahub.com/hosting/games/69232712ae4e3834166d41a0/",stats:[{value:"50.0 K",label:"Player"},{value:"4.7",label:"Score"},{value:"Soccer",label:"Classification"}]},recommendedGames:[{appId:"taptapshots",title:"Tap-Tap Shots",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/9dffcea80470d31a5ff081309131a77c.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"62 K+"},{appId:"slicemaster",title:"Slice Master",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/3fd84ac585eb8a75cd822e4918cf703c.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"32 K+"},{appId:"guesstheiranswer",title:"Guess Their Answer",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/f6311c14239514aec4fadc37df8e4bb1.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"73 K+"},{appId:"rollingballsearace",title:"Rolling Balls Sea Race",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/2db0b632f3e1f497cd0b19be33c223d5.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"62 K+"},{appId:"taptapshots2",title:"Tap-Tap Shots 2",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/a00b5ecb974d2e1832bf77d86b5daf3e.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"62 K+"},{appId:"rollingballssearacemultiplayer",title:"Rolling Balls Sea Race Multiplayer",image:"http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoDomain/202508/19/f64c3b847bd5277fca20f021be626ad7.png",url:"https://go.hypergames.top/xingxiao-lockscreen/game.html?channel=EU&topBarStyle=1",stats:"62 K+"}]}),r=w(!1),n=w(""),o=w(null),l=w([]),i=w(!0),d=w(!0),h=w(!1),k=w("http://cdo-store-img-test.s3-ap-southeast-1.amazonaws.com/openplat/cdoActivity/general-resources/202508/26/09c76e8d0ae9dc5514362247ece5397b.png"),v=w(null),_=w({}),I=w({}),P=O(()=>{const g={};return a.value.recommendedGames.forEach(m=>{const t=_.value[m.appId];if(t&&t!=="FALLBACK"){const c=parseInt(t.slice(1,3),16),p=parseInt(t.slice(3,5),16),y=parseInt(t.slice(5,7),16);g[m.appId]={background:"linear-gradient(180deg, rgba(".concat(c,", ").concat(p,", ").concat(y,", 0) 0%, rgba(").concat(c,", ").concat(p,", ").concat(y,", 0.6) 25%, rgba(").concat(c,", ").concat(p,", ").concat(y,", 0.95) 50%, rgba(").concat(c,", ").concat(p,", ").concat(y,", 1) 100%)")}}}),g}),F=O(()=>{const g={};return a.value.recommendedGames.forEach(m=>{const t=_.value[m.appId],c=I.value[m.appId];g[m.appId]=[],c&&g[m.appId].push("visible"),t==="FALLBACK"&&g[m.appId].push("fallback")}),g}),U=()=>{"IntersectionObserver"in window&&(v.value=new IntersectionObserver(g=>{g.forEach(m=>{if(m.isIntersecting){const t=m.target,c=t.dataset.src;if(c){t.classList.add("loading");const p=new Image;p.onload=async()=>{var $;t.src=c,t.classList.remove("lazy","loading"),t.classList.add("loaded"),($=v.value)==null||$.unobserve(t);const y=t.closest(".game-card");if(y){const G=y.getAttribute("data-game-id");G&&setTimeout(async()=>{try{const A=await E(t);A&&(_.value={..._.value,[G]:A},I.value={...I.value,[G]:!0})}catch(A){}},300)}},p.onerror=()=>{var y;t.classList.remove("lazy","loading"),t.classList.add("error"),(y=v.value)==null||y.unobserve(t)},p.src=c}}})},{threshold:.1,rootMargin:"50px"}),setTimeout(()=>{document.querySelectorAll("img.lazy").forEach(m=>{var t;(t=v.value)==null||t.observe(m)})},100))},N=()=>{r.value=!0,n.value=a.value.mainGame.url,document.body.style.overflow="hidden"},Z=(g,m,t)=>{const c=a.value.recommendedGames.find(y=>y.appId===g),p=(c==null?void 0:c.url)||"";p&&window.open(p,"_self")},q=()=>{},R=()=>{},V=()=>{i.value=!1},W=()=>{d.value=!1},Y=()=>{h.value=!1};X(()=>{ne(),le(),U(),j(()=>{setTimeout(()=>{J()},500)})});const J=async()=>{const g=document.querySelectorAll(".game-card");for(const m of g){const t=m.querySelector("img.game-card-bg"),c=m.getAttribute("data-game-id");if(t&&c&&t.src&&!t.classList.contains("lazy")&&t.complete)try{const p=await E(t);p&&(_.value={..._.value,[c]:p},I.value={...I.value,[c]:!0})}catch(p){}}};return ee(()=>{ie(),v.value&&v.value.disconnect(),document.body.style.overflow="auto"}),(g,m)=>(C(),L(z,null,[s("div",{class:b(["game-container",{"night-mode":f(u)}])},[s("div",{class:"background-section",style:T({backgroundImage:"url(".concat(a.value.mainGame.background,")")})},he,4),s("div",pe,[s("div",ge,[s("div",{class:"game-icon",style:T({backgroundImage:"url(".concat(a.value.mainGame.icon,")")})},null,4),s("h1",{class:b(["game-title",{"night-mode":f(u)}])},x(a.value.mainGame.title),3)]),s("div",{class:b(["game-stats",{"three-stats":a.value.mainGame.stats.length===3,"four-stats":a.value.mainGame.stats.length===4}])},[(C(!0),L(z,null,D(a.value.mainGame.stats,(t,c)=>(C(),L("div",{key:c,class:"stat-item"},[t.label==="Score"?(C(),L("div",ve,[s("div",{class:b(["stat-value",{"night-mode":f(u)}])},x(t.value),3),s("div",fe,[(C(),L("svg",we,[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99609 8.63289L3.48657 10.3463C3.17077 10.5619 2.76146 10.254 2.88111 9.89077L3.79889 7.10494L1.3695 5.38442C1.05265 5.16003 1.2091 4.66124 1.59735 4.65801L4.63814 4.63268L5.61849 1.82807C5.7434 1.47072 6.24877 1.47072 6.37368 1.82807L7.35403 4.63268L10.3948 4.65801C10.7831 4.66124 10.9395 5.16003 10.6227 5.38442L8.19329 7.10494L9.11106 9.89077C9.23071 10.254 8.8214 10.5619 8.5056 10.3463L5.99609 8.63289Z",fill:f(u)?"white":"black","fill-opacity":"0.9"},null,8,ye)]))])])):(C(),L("div",{key:1,class:b(["stat-value",{"night-mode":f(u)}])},x(t.value),3)),s("div",{class:b(["stat-label",{"night-mode":f(u)}])},x(t.label),3)]))),128))],2),s("button",{class:"play-button",onClick:N},_e),M(s("div",{class:b(["middle-banner",{"night-mode":f(u)}])},[Le,s("div",Ce,[s("div",{class:b(["middle-banner-ad-label",{"night-mode":f(u)}])},"AD",2),s("div",{class:"middle-banner-close",onClick:W},[(C(),L("svg",Ie,[s("path",{d:"M8.125 1.625L1.625 8.125M8.125 8.125L1.625 1.625",stroke:f(u)?"white":"black","stroke-opacity":"0.4","stroke-width":"1.08062","stroke-miterlimit":"10","stroke-linecap":"round"},null,8,ke)]))])])],2),[[B,d.value]]),s("div",{class:b(["recommendations",{"with-middle-banner":d.value,"without-middle-banner":!d.value}])},[xe,s("div",Se,[(C(!0),L(z,null,D(a.value.recommendedGames,(t,c)=>(C(),L("div",{key:t.appId,class:"game-card","data-game-id":t.appId,"data-game-title":t.title,"data-position":c,onClick:p=>Z(t.appId,t.title)},[s("img",{ref_for:!0,ref_key:"gameImages",ref:l,class:"game-card-bg lazy","data-src":t.image,alt:t.title},null,8,Te),s("div",{class:b(["game-card-overlay",F.value[t.appId]]),style:T(P.value[t.appId])},null,6),s("div",Be,[Ge,s("span",Ae,x(t.stats),1)]),s("div",ze,[s("div",$e,x(t.title),1)])],8,Me))),128))])],2)])],2),M(s("div",Oe,[s("iframe",{ref_key:"gameIframe",ref:o,class:"game-iframe",src:n.value,allow:"fullscreen; autoplay; microphone; camera",allowfullscreen:"",onLoad:q,onError:R},null,40,De)],512),[[B,r.value]]),M(s("div",Ee,[s("div",{class:"floating-ad-content",style:T({backgroundImage:"url(".concat(k.value,")")})},null,4),(C(),L("svg",{class:"floating-ad-close",onClick:Y,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"10",cy:"10",r:"8",fill:f(u)?"white":"black","fill-opacity":"0.4"},null,8,He),Ke]))],512),[[B,h.value]]),M(s("div",{id:"banner-container",class:b(["bottom-banner-container",{"night-mode":f(u)}])},[s("div",Pe,[Fe,s("div",Ue,[s("div",{class:b(["bottom-banner-ad-label",{"night-mode":f(u)}])},"AD",2),s("div",{class:"bottom-banner-close",onClick:V},[(C(),L("svg",Ne,[s("path",{d:"M8.125 1.625L1.625 8.125M8.125 8.125L1.625 1.625",stroke:f(u)?"white":"black","stroke-opacity":"0.4","stroke-width":"1.08062","stroke-miterlimit":"10","stroke-linecap":"round"},null,8,Ze)]))])])])],2),[[B,i.value]])],64))}}),Re=(e,a)=>{const r=e.__vccOpts||e;for(const[n,o]of a)r[n]=o;return r},Ve=Re(qe,[["__scopeId","data-v-42675094"]]);oe(Ve).mount("#app");export{We as __vite_legacy_guard};
